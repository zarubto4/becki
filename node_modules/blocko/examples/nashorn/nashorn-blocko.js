require('./nashorn-core-functions');
var BlockoCore = require('./../../js/index').BlockoCore;
var BlockoBasicBlocks = require('./../../js/index').BlockoBasicBlocks;

var controller = BlockoCore.Controller.getInstance();

// begin of register blocks
controller.registerBlocks(BlockoBasicBlocks.Manager.getAllBlocks());

// Callback registrations
controller.registerAnalogValueChangeCallback(function (hwId, value) {
    jsCallbacksManager.analogValueChangeCallback(hwId, value);
});

controller.registerDigitalValueChangeCallback(function (hwId, value) {
    jsCallbacksManager.digitalValueChangeCallback(hwId, value);
});

// Global functions

global.setDataJson = function(json) {
	return controller.setDataJson(json);
};

global.setDigitalValue = function(hwId, value) {
	controller.setDigitalValue(hwId, value);
};

global.setAnalogValue = function(hwId, value) {
    controller.setAnalogValue(hwId, value);
};
