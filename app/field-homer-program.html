<!--
  ~ Â© 2015-2016 Becki Authors. See the AUTHORS file found in the top-level
  ~ directory of this distribution.
  -->

<template data-bind-ng-if="!readonly">
  <div class="btn-toolbar">
    <div class="btn-group btn-group-xs">
      <button type="button" class="btn btn-default" data-on-click="onSwitchClick($event)">Switch</button>
      <button type="button" class="btn btn-default" data-on-click="onButtonClick($event)">Button</button>
      <button type="button" class="btn btn-default" data-on-click="onLightClick($event)">Light</button>
    </div>
    <div class="btn-group btn-group-xs">
      <button type="button" class="btn btn-default" data-on-click="onInputClick($event)">Input</button>
      <button type="button" class="btn btn-default" data-on-click="onOutputClick($event)">Output</button>
    </div>
    <div class="btn-group btn-group-xs">
      <button type="button" class="btn btn-default" data-on-click="onAndClick($event)">And</button>
      <button type="button" class="btn btn-default" data-on-click="onOrClick($event)">Or</button>
      <button type="button" class="btn btn-default" data-on-click="onXorClick($event)">Xor</button>
      <button type="button" class="btn btn-default" data-on-click="onNotClick($event)">Not</button>
    </div>
    <div class="btn-group btn-group-xs">
      <button type="button" class="btn btn-default" data-on-click="onFlipFlopClick($event)">FlipFlop</button>
      <button type="button" class="btn btn-default" data-on-click="onDelayClick($event)">Delay</button>
      <button type="button" class="btn btn-default" data-on-click="onAsyncClick($event)">Async</button>
    </div>
    <div class="btn-group btn-group-xs">
      <button type="button" class="btn btn-default" data-on-click="onRangeClick($event)">Range</button>
    </div>
    <div class="btn-group btn-group-xs">
      <button type="button" class="btn btn-default" data-on-click="onCustomClick($event)">Custom</button>
    </div>
    <div class="btn-group btn-group-xs pull-right">
      <button type="button" class="btn btn-danger" data-on-click="onClearClick($event)">Clear</button>
    </div>
  </div>
</template>
<div data-bind-class.form-control="!readonly" style="height: auto" data-var-field>
  <div class="spinner"></div>
</div>
<template data-bind-ng-if="config">
  <div class="panel panel-primary" style="margin-top: 2em">
    <div class="panel-heading">Configuration of {{config?.id}}</div>
    <div class="panel-body">
      <div class="form-group" template="ngFor #property of config?.getConfigProperties()" data-bind-ng-switch="getPropertyType(property)">
        <label>
          <span class="glyphicon glyphicon-pencil"></span>
          {{property.displayName}}
        </label>
        <template data-bind-ng-switch-when="'int'">
          <input class="form-control" type="number" data-bindon-ng-model="property.value">
        </template>
        <template data-bind-ng-switch-when="'float'">
          <input class="form-control" type="number" step="0.1" data-bindon-ng-model="property.value">
        </template>
        <template data-bind-ng-switch-when="'text'">
          <input class="form-control" data-bindon-ng-model="property.value">
        </template>
        <template data-bind-ng-switch-when="'bool'">
          <input type="checkbox" data-bindon-ng-model="property.value">
        </template>
        <template data-bind-ng-switch-when="'javascript'">
          <div data-bindon-field-code="property.value" data-bind-mode="'text/javascript'">
            <div class="spinner"></div>
          </div>
        </template>
      </div>
    </div>
    <div class="panel-footer text-right">
      <button class="btn btn-danger" type="button" data-on-click="onConfigCloseClick($event)">Close</button>
      <template data-bind-ng-if="!readonly">
        <button class="btn btn-primary" type="button" data-on-click="onConfigSaveClick($event)">Save</button>
      </template>
    </div>
  </div>
</template>
