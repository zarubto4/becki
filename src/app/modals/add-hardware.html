<div>
    <div class="modal-header">
        <button type="button" class="close" (click)="onCloseClick()"></button>
        <h4 class="modal-title" [innerHTML]="'title'|bkTranslate:this"></h4>
    </div>

    <div *ngIf="step==null" class="row tiles" style="width: auto !important; margin-left: 10px !important; margin-right: 10px !important; margin-top: 20px !important; margin-bottom: 20px !important;">

        <div class="col-md-6 text-center">
            <a (click)="set_singleRegistration()" style="text-decoration: none !important;">
                <div class="tile double byzance-blue" style="width: auto !important; float: none !important;">
                    <div class="tile-body">
                        <i class="fa fa-microchip medium"></i>
                    </div>
                    <div class="tile-object">
                        <div class="name" style="position: relative !important;">{{'label_single_registration'|bkTranslate:this}}</div>
                    </div>
                </div>
            </a>
        </div>
        <div (click)="set_multipleRegistration()" class="col-md-6 text-center">
            <a style="text-decoration: none !important;">
                <div class="tile double bg-blue-hoki" style="width: auto !important; float: none !important;">
                    <div class="tile-body">
                        <i class="fa fa-microchip"></i>
                    </div>
                    <div class="tile-object">
                        <div class="name" style="position: relative !important;">
                            <span [innerHTML]="'label_multiple_registration'|bkTranslate:this"></span>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <br>
        <br>
        <br>
        <br>
    </div>

    <div *ngIf="step=='singleRegistration'" style="width: auto !important; margin-left: 10px !important; margin-right: 10px !important; margin-top: 20px !important;">
        <div class="modal-body">
            <form [formGroup]="form">

                <bk-form-input [control]="form.controls.id" [placeholder]="'label_hash_token_label'|bkTranslate:this" [label]="'label_hash_token'|bkTranslate:this" (valueChange)="onChangeIndividualHashValue($event)"></bk-form-input>
                 <div *ngIf="single_error_status != null" class="text-center">
                    <span *ngIf="single_error_status == 'CAN_REGISTER'" class="font-green-jungle bold">{{'Ready to register'}}</span>
                    <span *ngIf="single_error_status == 'ALREADY_REGISTERED_IN_YOUR_ACCOUNT'" class="font-yellow-casablanca bold">{{'Already Registered in this project'}}</span>
                    <span *ngIf="single_error_status == 'ALREADY_REGISTERED'" class="font-red-flamingo bold">{{'Already Registered - Cannot registered again!'}}</span>
                    <span *ngIf="single_error_status == 'PERMANENTLY_DISABLED'" class="font-red-flamingo bold">{{'Device is permanently blocked. Please Contact Technical support'}}</span>
                    <span *ngIf="single_error_status == 'BROKEN_DEVICE'" class="font-red-flamingo bold">{{'Device is Broken'}}</span>
                    <span *ngIf="single_error_status == 'NOT_EXIST'" class="font-red-flamingo bold">{{'Not Found...'}}</span>
                    <br>
                    <br>
                 </div>

                <div *ngIf="single_error_message != null">
                    <span class="font-red bold">{{single_error_message}}</span>
                </div>

                <bk-multi-select *ngIf="group_options_available && group_options_available.length > 0" [items]="group_options_available"
                    [label]="'label_hardware_groups'|bkTranslate:this" #groupList></bk-multi-select>

                <div *ngIf="group_options_available && group_options_available.length == 0">
                    <span [innerHTML]="'label_no_hardware_groups'|bkTranslate:this"></span>
                </div>

            </form>
            <br>
            <br>
            <div class="note note-info">
                <h4 class="block">{{'label_little_advice'|bkTranslate:this}}</h4>
                <span [innerHTML]="'label_advice_single_registration'|bkTranslate:this"></span>
            </div>
            <div *ngIf="group_options_available && group_options_available.length == 0" class="note note-warning">
                <h4 class="block">{{'label_little_advice'|bkTranslate:this}}</h4>
                <span [innerHTML]="'label_advice_no_group'|bkTranslate:this"></span>
            </div>
        </div>
    </div>


    <div *ngIf="step=='multipleRegistration'" style="width: auto !important; margin-left: 10px !important; margin-right: 10px !important; margin-top: 20px !important;">
        <div class="modal-body">
            <form [formGroup]="multiForm">
                <bk-form-text-area [control]="multiForm.controls.listOfIds" [row]="6" [cols]="250" [placeholder]="'xxxxxxx; yyyyyyyy; ... '"
                    [label]="'label_hash_tokens'|bkTranslate:this"></bk-form-text-area>
                <br>
                <bk-multi-select *ngIf="!afterFirstConfirm && group_options_available && group_options_available.length > 0" [items]="group_options_available"
                    [label]="'label_hardware_groups'|bkTranslate:this" #groupList></bk-multi-select>
            </form>


            <div *ngIf="!afterFirstConfirm" class="note note-info">
                <h4 class="block">{{'label_little_advice'|bkTranslate:this}}</h4>
                <span [innerHTML]="'label_advice_multiple_registration'|bkTranslate:this"></span>
            </div>

            <div *ngIf="!afterFirstConfirm && group_options_available && group_options_available.length == 0" class="note note-warning">
                <h4 class="block">{{'label_little_advice'|bkTranslate:this}}</h4>
                <span [innerHTML]="'label_advice_no_group'|bkTranslate:this"></span>

            </div>
            <br>
            <div>
                <div *ngIf="afterFirstConfirm">
                    <span>
                        <i class="font-green-jungle fa fa-check"></i> {{'label_successfully_registered'|bkTranslate:this}}: </span>
                    <bk-form-text-area [control]="deviceInfoTextForm.controls.successfulDevices" [row]="6" [cols]="250" [placeholder]="" [labelComment]="false"></bk-form-text-area>
                </div>
                <br>
                <br>
                <div *ngIf="afterFirstConfirm">
                    <span>
                        <i class="font-red-thunderbird fa fa-warning"></i> {{'label_failed_to_register'|bkTranslate:this}}: </span>
                    <bk-form-text-area [control]="deviceInfoTextForm.controls.failedDevices" [row]="6" [cols]="250" [placeholder]="" [labelComment]="false"></bk-form-text-area>
                </div>
            </div>
            <br>
        </div>
    </div>


    <div *ngIf="step" class="modal-footer">
        <button type="button" class="btn red" (click)="onCancelClick()">{{'btn_cancel'|bkTranslate:this}}</button>
        <button type="button" [disabled]="!((multiForm.valid)||(form.valid))" class="btn green" (click)="onSubmitClick()">{{'btn_add'|bkTranslate:this}}</button>
    </div>
</div>
