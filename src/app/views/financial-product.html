<!-- /*
 * Â© 2016 Becki Authors. See the AUTHORS file found in the top-level
 * directory of this distribution.
 */
 -->

<bk-layout-main
    [tabMenu]="'products-product'"
    [title]="product?product.name:null"
    [subtitle]="product?product.description:null"
    [show_title]="true">

    <div class="portlet portlet light bordered">


        <!-- Portlet - Basic Title of Panel with Buttons on right side -- START -->
        <bk-portlet-title *ngIf="product"
            [title_name]="'title'|bkTranslate:this"
            [icon]="'fa-tachometer'"
            (onClick)="onPortletClick($event)"
            [btns]="[
                                {
                                    condition: (true),
                                    btn_label_for_person: ('label_financial_product_properties'|bkTranslate:this),
                                    icon: 'fa-cog',
                                    colorType: 'EDIT',
                                    btn_tag: 'edit_product',
                                    permission: product.update_permission
                                },
                                {
                                    condition: (product.active),
                                    btn_label_for_person: ('label_deactivate_product'|bkTranslate:this),
                                    icon: 'fa-stop-circle',
                                    colorType: 'DEACTIVE',
                                    btn_tag: 'deactivate_product',
                                    permission: product.update_permission
                                },
                                {
                                    condition: (!product.active),
                                    btn_label_for_person: ('label_activate_product'|bkTranslate:this),
                                    icon: 'fa-cloud-upload',
                                    colorType: 'ACTIVE',
                                    btn_tag: 'activate_product',
                                    permission: product.update_permission
                                }
                        ]">
        </bk-portlet-title>
        <!-- Portlet - Basic Title of Panel with Buttons on right side --- END -->

        <!-- Page Content -- START -->
        <div *ngIf="product" class="row">
            <div class="col-md-6">
                <div>
                    <H4>{{'label_core_details'|bkTranslate:this}}:</H4>
                </div>
                <div>
                    {{'label_id_subscription'|bkTranslate:this}}:
                    <span class="font-grey-mint bold">{{product.subscription_id}}</span>
                </div>
                <div>
                    {{'label_created'|bkTranslate:this}}:
                    <span class="font-grey-mint bold">{{product.created|bkUnixTimeToDate}}</span>
                </div>
                <div>
                    {{'label_payment_method'|bkTranslate:this}}:
                    <span *ngIf="product.payment_details.payment_method" class="font-grey-mint bold">
                        {{product.payment_details.payment_method|bkTranslateTable:this:'payment_method'}}
                    </span>
                    <span *ngIf="!product.payment_details.payment_method" class="font-red bold">
                        {{'label_no_payment_method'|bkTranslate:this}}
                    </span>
                </div>
                <div>
                    {{'label_status'|bkTranslate:this}}:
                    <span *ngIf="product.active" class="font-green-jungle">{{'option_active'|bkTranslate:this}}</span>
                    <span *ngIf="!product.active" class="font-red">{{'option_hibernation'|bkTranslate:this}}</span>
                    <span *ngIf="!product.active" class="icon-hint-wraper red">
                                        <i class="fa fa-exclamation-triangle font-red-mint"></i>
                                        <span class="hint">{{[product.active.toString()]|bkTranslate:this}}</span>
                                    </span>
                </div>
                <br>
                <br>
                <div>
                    <H4>{{'label_financial_status'|bkTranslate:this}}:</H4>
                </div>
                <div>
                    {{'label_remaining_credit'|bkTranslate:this}}:
                    <span class="font-grey-mint bold">{{product.remaining_credit}}</span>
                </div>
            </div>
            <div class="col-md-6">
                <div>
                    <H4>{{'label_other_details'|bkTranslate:this}}:</H4>
                </div>
                <div *ngIf="product.integrator_client" >
                    {{'label_billing_mode'|bkTranslate:this}}:
                    <span class="font-grey-mint bold">{{'label_client_billing'|bkTranslate:this}}</span> -> <span class="font-red-flamingo bold">{{product.integrator_client.contact.name}}</span>
                </div>
                <div *ngIf="!product.integrator_client" >
                    {{'label_billing_mode'|bkTranslate:this}}:
                    <span class="font-grey-mint bold">{{'label_private_billing'|bkTranslate:this}}</span>
                </div>
                <br>
                <br>
            </div>
        </div>
        <!-- Page Content -- END -->

    </div>
</bk-layout-main>
