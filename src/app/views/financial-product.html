<!-- /*
 * Â© 2016 Becki Authors. See the AUTHORS file found in the top-level
 * directory of this distribution.
 */
 -->

<bk-layout-main tabMenu="tariffs-tarrif" [title]="product?product.name:null">
    <div class="tabbable-line tabbable-full-width">
        <div class="portlet light bordered">
            <div *ngIf="product" class="row">
                <div class="col-md-12">
                    <div class="portlet portlet light bordered">
                        <div class="portlet-title">
                            <div class="becki-caption">
                                <span class="font-blue-dark"><i class="fa fa-fw fa-tachometer"></i>
                                    Dashboard
                                </span>
                            </div>
                            <div class="becki-actions">

                                <button title="Financial product properties" class="btn btn-icon-only blue" (click)="onEditClick()">
                                    <i class="fa fa-cog"></i>
                                </button>
                                <button *ngIf="product.active" title="Deactivate product" class="btn btn-icon-only red" (click)="deactivateProduct()">
                                    <i class="fa fa-stop-circle"></i>
                                </button>
                                <button *ngIf="!product.active" title="Activate product" class="btn btn-icon-only green" (click)="activateProduct()">
                                    <i class="fa fa-cloud-upload"></i>
                                </button>

                                <button *ngIf="product.payment_mode == 'per_credit'" class="btn blue" (click)="onAddCreditsClick()">
                                    <i class="fa fa-plus-circle"></i> Add credit
                                </button>

                            </div>
                        </div>

                        <div *ngIf="product" class="row">

                            <div class="col-md-6">

                                <div>
                                    <H4>Core details:</H4>
                                </div>

                                <div>
                                    ID Subscription:
                                    <span class="font-grey-mint bold">{{product.subscription_id}}</span>
                                </div>

                                <div>
                                    Plan:
                                    <span class="font-grey-mint bold">{{product.payment_method|bkStringReplacer}}</span>
                                </div>

                                <div>
                                    Status :
                                    <span *ngIf="product.active" class="font-green-jungle">active</span>
                                    <span *ngIf="!product.active" class="font-red">hibernation</span>
                                    <span *ngIf="!product.active" class="icon-hint-wraper red"> <i class="fa fa-exclamation-triangle font-red-mint"></i>
                                      <span class="hint">{{productStatusTranslate[product.active.toString()]}}</span>
                                    </span>
                                </div>

                                <br><br>

                                <div>
                                    <H4>Financial status:</H4>
                                </div>

                                <div>
                                    Remaining credit:
                                    <span class="font-grey-mint bold">{{product.remaining_credit}}</span>
                                </div>



                            </div>

                            <div class="col-md-6">

                                <div>
                                    <H4>Other details:</H4>
                                </div>

                                <div>
                                    Created:
                                    <span class="font-grey-mint bold">{{product.created|bkUnixTimeToDate}}</span>
                                </div>

                                <br><br>

                                <div>
                                    <H4>Contacts details:</H4>
                                </div>

                                <div>
                                    Country:
                                    <span class="font-grey-mint bold">{{product.subscription_id}}</span>
                                </div>

                            </div>

                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</bk-layout-main>
