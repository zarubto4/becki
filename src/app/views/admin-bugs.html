<bk-layout-main
    [tabMenu]="'byzance-admin'"
    [title]="'main_title'|bkTranslate:this"
    [subtitle]="'main_subtitle'|bkTranslate:this">


    <!-- Portlet - Basic Title of Panel with Buttons on right side -- START -->
    <bk-portlet-title [title_name]="'title'|bkTranslate:this"
                      [icon]="'fa-bug'"
                      (onClick)="onPortletClick($event)"
                      [btns]="[
                        {
                            condition: (true),
                            btn_label_for_person: ('label_delete_bugs_all'|bkTranslate:this),
                            colorType: 'ACTIVE',
                            icon: 'fa-bug',
                            btn_tag: 'remove_all'
                        }
                    ]">
    </bk-portlet-title>

    <!-- Portlet - Basic Title of Panel with Buttons on right side --- END -->
    <div class="portlet-body">

        <div *ngIf="(bugs && bugs.length)" class="table-scrollable">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th class="">{{'table_summary'|bkTranslate:this}}</th>
                    <th class="">{{'table_date'|bkTranslate:this}}</th>
                    <th class="">{{'table_repetition'|bkTranslate:this}}</th>
                    <th class="text-center">{{'table_actions'|bkTranslate:this}}</th>
                </tr>
                </thead>
                <tbody class="hide-bk-drob-down-button">
                <tr *ngFor="let bug of bugs">

                    <td class="no-wrap bold vert-align">
                        <a (click)="onBugClick(bug)">{{bug.name.substring(0, 100)}}</a>
                    </td>
                    npm

                    <td class="vert-align">{{bug.created|bkUnixTimeToDate}}</td>

                    <td class="vert-align">{{bug.repetition}}</td>

                    <td class="action-btn-col">
                        <bk-drob-down-button
                            [btns_group_name]="('label_Project_Properties'|bkTranslate:this)"
                            [btns]="[
                                {
                                    condition: true,
                                    btn_label_for_person: ('label_report_bug'|bkTranslate:this),
                                    btn_tag: 'report_bug',
                                    icon: 'fa-share',
                                    colorType: 'ADD',
                                    permission: (bug.update_permission)
                                },
                                {
                                    condition: true,
                                    btn_label_for_person: ('label_remove_bug'|bkTranslate:this),
                                    btn_tag: 'remove_bug',
                                    icon: 'fa-trash',
                                    colorType: 'REMOVE',
                                    permission: (bug.delete_permission)
                                }
                            ]"
                            (onValueChanged)="onDrobDownEmiter($event, bug)"
                        >
                        </bk-drob-down-button>

                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- Temporary page content if content is being loaded or if there is no content -- START -->
        <bk-nothing-to-show [condition_loading]="(bugs == null)"
                            [condition_empty]="(bugs != null && bugs.length == 0)"
                            [main_message_link]="'label_no_bugs'|bkTranslate:this"
                            [main_message_comment_link]="'label_no_bugs_comment'|bkTranslate:this"
                            [show_button]="false">
        </bk-nothing-to-show>
        <!-- Temporary page content if content is being loaded or if there is no content -- END -->

    </div>


</bk-layout-main>
