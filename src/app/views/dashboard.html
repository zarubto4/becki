<bk-layout-main
    [title]="'main_title'|bkTranslate:this">

    <div class="portlet-body">
        <div class="row">

            <!--- Welcome Row Part -->
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <div class="portlet">
                    <bk-portlet-title
                        [title_name]="'title_your_project'|bkTranslate:this"
                        [icon]="'fa-briefcase'">
                    </bk-portlet-title>
                    <div class="portlet-body">
                        <div *ngIf="projects && projects.length" class="table-scrollable table-scrollable-borderless">
                            <table class="table table-hover table-light byzance-table">
                                <thead>
                                <tr>
                                    <th class="col">{{'table_name'|bkTranslate:this}}</th>
                                    <th class="col">{{'table_description'|bkTranslate:this}}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr *ngFor="let project of projects">

                                    <td *ngIf="project.active" class="no-wrap bold vert-align"><a (click)="onProjectClick(project.id)">{{project.name}}</a></td>

                                    <td class="vert-align" *ngIf="!project.active">
                                        <strong>{{project.name}}</strong>
                                        <br>
                                        <span *ngIf="project.product" class="font-red-flamingo">(Deactivated under <a (click)="onProductClick(project.product.id)"><span class="font-red-flamingo bold">{{project.product.name}}</span></a>) </span>
                                    </td>

                                    <td class="vert-align">{{project.description}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- News Row Part -->
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                <div class="portlet light full-height-content full-height-content-scrollable">
                    <bk-portlet-title
                        [title_name]="'title_platform_news'|bkTranslate:this"
                        [icon]="'fa-flag'"
                        (onClick)="onPortletClick($event)"
                        [btns]="[
                              {
                                  condition: (create_article_permission == true),
                                  btn_label_for_person: ('btn_add_article'|bkTranslate:this),
                                  icon: 'fa-plus-circle',
                                  colorType: 'ADD',
                                  permission: true,
                                  btn_tag: 'add_article'
                              }
                        ]"
                        (onTabClick)="onToggleTab($event)"
                        [tab_selected_name]="tab"
                        [tabBtns]="[
                                {
                                    tab_name: 'general',
                                    condition: (true),
                                    tab_color: 'BYZANCE',
                                    tab_label: ('tab_general'|bkTranslate:this)
                                },
                                {
                                    tab_name: 'hardware',
                                    condition: (true),
                                    tab_color: 'HARDWARE',
                                    tab_label: ('tab_hardware'|bkTranslate:this)
                                },
                                {
                                    tab_name: 'code',
                                    condition: (true),
                                    tab_color: 'CODE',
                                    tab_label: ('tab_code'|bkTranslate:this)
                                },
                                {
                                    tab_name: 'blocko',
                                    condition: (true),
                                    tab_color: 'BLOCKO',
                                    tab_label: ('tab_blocko'|bkTranslate:this)
                                },
                                {
                                    tab_name: 'grid',
                                    condition: (true),
                                    tab_color: 'GRID',
                                    tab_label: ('tab_grid'|bkTranslate:this)
                                },
                                {
                                    tab_name: 'cloud',
                                    condition: (true),
                                    tab_color: 'CLOUD',
                                    tab_label: ('tab_cloud'|bkTranslate:this)
                                }
                            ]">
                    </bk-portlet-title>
                    <div *ngIf="articles" class="portlet-body" >

                        <div *ngIf="tab == 'general' && articles.general" class="timeline">
                            <ng-template ngFor let-article="$implicit" [ngForOf]="articles.general.content">
                                <bk-article-time-line
                                    [article]="article"
                                    [icon]="'fa-info'"
                                    (onBtnClick)="onPortletClick($event, article)"
                                    [article_head_color]="'BYZANCE'">
                                </bk-article-time-line>
                            </ng-template>
                        </div>
                        <div *ngIf="tab == 'hardware' && articles.hardware" class="timeline">
                            <ng-template ngFor let-article="$implicit" [ngForOf]="articles.hardware.content">
                                <bk-article-time-line
                                    [article]="article"
                                    [icon]="'fa-microchip'"
                                    (onBtnClick)="onPortletClick($event, article)"
                                    [article_head_color]="'HARDWARE'">
                                </bk-article-time-line>
                            </ng-template>
                        </div>
                        <div *ngIf="tab == 'code' && articles.code" class="timeline">
                            <ng-template ngFor let-article="$implicit" [ngForOf]="articles.code.content">
                                <bk-article-time-line
                                    [article]="article"
                                    [icon]="'fa-code'"
                                    (onBtnClick)="onPortletClick($event, article)"
                                    [article_head_color]="'CODE'">
                                </bk-article-time-line>
                            </ng-template>
                        </div>
                        <div *ngIf="tab == 'blocko' && articles.blocko" class="timeline">
                            <ng-template ngFor let-article="$implicit" [ngForOf]="articles.blocko.content">
                                <bk-article-time-line
                                    [article]="article"
                                    (onBtnClick)="onPortletClick($event, article)"
                                    [icon]="'fa-sitemap fa-rotate-90'"
                                    [article_head_color]="'BLOCKO'">
                                </bk-article-time-line>
                            </ng-template>
                        </div>
                        <div *ngIf="tab == 'grid' && articles.grid" class="timeline">
                            <ng-template ngFor let-article="$implicit" [ngForOf]="articles.grid.content">
                                <bk-article-time-line
                                    [article]="article"
                                    [icon]="'fa-desktop'"
                                    (onBtnClick)="onPortletClick($event, article)"
                                    [article_head_color]="'GRID'">
                                </bk-article-time-line>
                            </ng-template>
                        </div>
                        <div *ngIf="tab == 'cloud' && articles.cloud" class="timeline">
                            <ng-template ngFor let-article="$implicit" [ngForOf]="articles.grid.content">
                                <bk-article-time-line
                                    [article]="article"
                                    [icon]="'fa-cloud'"
                                    (onBtnClick)="onPortletClick($event, article)"
                                    [article_head_color]="'CLOUD'">
                                </bk-article-time-line>
                            </ng-template>
                        </div>
                    </div>
                </div>
                <div *ngIf="!articles" class="portlet-body" >
                    Loading!!!!!!! TODO
                </div>

            </div>

        </div>
    </div>

    <div>
        <bk-form-chart-bar
            [values]="{
                chart_data: [
                        {data: [10, 23, 45, 45, 45, 55, 40], label: 'Series A'},
                        {data: [28, 1, 0, 19, 86, 27, 90], label: 'Series B'}
                    ],
                bar_chart_labels: ['2006', '2007', '2008', '2009', '2010', '2011', '2012']
            }"
        >

        </bk-form-chart-bar>
    </div>


</bk-layout-main>
